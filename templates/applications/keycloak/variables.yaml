# Application Metadata
app:
  key: keycloak
  displayName: 'AI Fabrix Keycloak'
  description: 'Identity and Access Management'
  type: webapp

# Image Configuration
image:
  name: aifabrix/keycloak
  tag: 'latest'
  registry: devflowiseacr.azurecr.io
  registryMode: acr

# Port Configuration (base for host; host port = 8082 + developer_id*100 from ~/.aifabrix/config.yaml)
port: 8082

# Azure Requirements
requires:
  database: true
  databases:
    - name: keycloak
  redis: false
  storage: false

# Health Check
healthCheck:
  path: /health/ready
  interval: 30
  probePath: /health/ready
  probeRequestType: GET
  probeProtocol: Https
  probeIntervalInSeconds: 120

# Authentication
authentication:
  enableSSO: false

# Build Configuration
build:
  context: .. # Docker build context (relative to builder/)
  dockerfile: builder/Dockerfile # Dockerfile name (empty = use template)
  localPort: 8082 # Port for local development (different from Docker port)
  containerPort: 8080 # Container port (different from local port)
  language: typescript # Runtime language for template selection
