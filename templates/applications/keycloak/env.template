# Environment Variables Template
# Use kv:// references for secrets (resolved from .aifabrix/secrets.yaml)
# Use ${VAR} for environment-specific values

# =============================================================================
# APPLICATION ENVIRONMENT
# =============================================================================

KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=kv://keycloak-admin-passwordKeyVault
KC_HOSTNAME_STRICT=false
KC_HTTP_ENABLED=true

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
# Enable health check endpoints: /health, /health/live, /health/ready, /health/started
# Keycloak 26.4.0+: Health endpoints are exposed on main HTTP(S) port (8080) by default
# Set http-management-health-enabled=false to expose on main port instead of management port

KC_HEALTH_ENABLED=true
# Expose health endpoints on main HTTP port (like Keycloak 24.0)
# Set to false to expose on main port instead of management port (9000)
KC_HTTP_MANAGEMENT_HEALTH_ENABLED=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MISO Application Client Credentials (per application)
MISO_CLIENTID=kv://keycloak-client-idKeyVault
MISO_CLIENTSECRET=kv://keycloak-client-secretKeyVault
MISO_CONTROLLER_URL=http://${MISO_HOST}:${MISO_PORT}
MISO_WEB_SERVER_URL=kv://miso-controller-web-server-url

# Connects to postgres service in Docker network (postgres) or localhost (local)

KC_DB=postgres
KC_DB_URL_HOST=${DB_HOST}
KC_DB_URL_PORT=${DB_PORT}
KC_DB_URL_DATABASE=keycloak
KC_DB_USERNAME=keycloak_user
KC_DB_PASSWORD=kv://databases-keycloak-0-passwordKeyVault
DB_0_PASSWORD=kv://databases-keycloak-0-passwordKeyVault
